---
title: '数据结构 5'
date: 2025-06-28
permalink: /posts/2025/06/2025-06-28-数据结构-5/
excerpt: "数据结构"
tags:
  - OI
---

# 静态链分治

$\sum\limits_{u=1}^n siz_u - siz_{hson_u} = O(n \log n)$

## [CF208E Blood Cousins](https://www.luogu.com.cn/problem/CF208E)

**套路** 把询问挂到子树上

TODO:

## [P4149 [IOI 2011] Race](https://www.luogu.com.cn/problem/P4149)

**套路** 简单路径，挂在 LCA 上

桶

TODO:

$O(n \log n)$。

## [CF741D Arpa’s letter-marked tree and Mehrdad’s Dokhtar-kosh paths](https://www.luogu.com.cn/problem/CF741D)

想出了完整思路！！

TODO:


# 整体二分 & CDQ

$O((n+m) \log n)$ 离线静态区间 k 小值

## [P3332 [ZJOI2013] K大数查询](https://www.luogu.com.cn/problem/P3332)

TODO:

## [P4093 [HEOI2016/TJOI2016] 序列](https://www.luogu.com.cn/problem/P4093)

TODO:

比较裸的三维偏序。$O(n \log^2 n)$。

## [P4095 [HEOI2013] Eden 的新背包问题](https://www.luogu.com.cn/problem/P4095)

TODO:

扣掉一个 -> 由 log 个区间拼出来


# 点分治

## 颜色树

TODO:

> 神秘黑科技 $O(n + \sqrt V)$ 排序

## [P10632 Normal](https://www.luogu.com.cn/problem/P10632)

TODO:

点分树

$$\sum \sum \frac 1 {dis(i, j)}$$





万金油 LCT
万金油 分块
偏卡常：树剖 / 静态链分治


## []()


# 点分树

树高 $O(\log n)$，$\sum siz_u = O(n \log n)$。

修改：暴力跳父亲

某个点到其他所有点的距离之和

## [P6329 【模板】点分树 | 震波](https://www.luogu.com.cn/problem/P6329)

树状数组，2log，$\sum siz_u = O(n \log n)$。

## [#6073. 「2017 山东一轮集训 Day5」距离](https://loj.ac/p/6073)

可持久化点分树

括号序，把树上路径转成区间

# 线段树合并

合并 $n$ 个单元素树是 $O(n \log n)$ 的。

## [P3521 [POI 2011] ROT-Tree Rotations](https://www.luogu.com.cn/problem/P3521)

平衡树启发式合并 $O(n \log^2 n)$，线段树合并 $O(n \log n)$