# Segment Tree Beats

## [HDU5306 Gorgeous Sequence](https://vjudge.net/problem/HDU-5306)

> 维护一个序列。
> - 区间 $\text{cmin}$。
> - 查询区间 $\max$。
> - 查询区间和。
>
> $n,m \le 10^6$。

TODO:

- $mx < t$，退出
- $cmx < t < mx$，批量修改

可以证明这是均摊 $O(\log n)$ 的。TODO:

## [未知来源] Picks loves segment tree

> 维护一个序列。
> - 区间 $\text{cmin}$。
> - 区间加，可能为负数。
> - 查询区间和。
>
> $n,m \le 3 \times 10^5$。

TODO:

可以证明这个做法是均摊 $O(\log^2 n)$ 的，但是我们至今不知道这个算法是不是均摊 $O(\log n)$。这个算法的**实际运行效率非常像 1log**，所以赛场上就把它当 1log 用吧！

## [P10639 BZOJ4695 最佳女选手](https://www.luogu.com.cn/problem/P10639)

> 维护一个序列。
> - 区间加，可能为负数。
> - 区间 $\text{cmax}$。
> - 区间 $\text{cmin}$。
> - 查询区间和。
> - 查询区间最大值。
> - 查询区间最小值。
>
> $n,m \le 5 \times 10^5$。

TODO:

## [P4314 CPU 监控](https://www.luogu.com.cn/problem/P4314)

> 维护一个序列。
> - 区间赋值。
> - 区间加，可能为负数。
> - 查询区间最大值。
> - 查询区间**历史最大值**。
>
> $n,m \le 5 \times 10^5$。

# 树套树

动态开点，单次操作 $O(\log n \log m)$。



## 线段树套平衡树

单点修改，查询区间内第 $k$ 小。$\log^3$，不如分块。

##

[P3380 【模板】树套树](https://www.luogu.com.cn/problem/P3380)