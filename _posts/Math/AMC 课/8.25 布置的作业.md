- [2022 AMC12B Problem 24](https://artofproblemsolving.com/wiki/index.php/2022_AMC_12B_Problems/Problem_24)
- [2022 AMC12B Problem 25](https://artofproblemsolving.com/wiki/index.php/2022_AMC_12B_Problems/Problem_25)
- [2022 AMC12B Problem 23](https://artofproblemsolving.com/wiki/index.php/2022_AMC_10B_Problems/Problem_25)

# T1

首先注意到每种长度的对角线都是 $7$ 条，也就是说我们只要求出一组 $a^4+b^4+c^4$ 的结果然后乘 $7$ 就好了（$a<b<c$ 为三种对角线的长度）。

我一开始遵循了 Solution 5 的思路，通过余弦定理直接用圆心角表示 $a^2, b^2, c^2$，但是没有想到可以通过简单结论 $\cos \frac {2 \pi} 7 + \cos \frac {4 \pi} 7 + \cos \frac {6 \pi} 7 = - \frac 1 2$ 得到答案。我错误地走上了切比雪夫多项式的路。**而事实上单位根的题应该用对称性来做，用切比雪夫只会丢失对称性**。

看答案获得了一个 Hint：$\cos$ 不方便。这种题有多个弦出自同一点的时候，且这一点在坐标系中位置还比较好（比如这题 $(1,0)$），可以用 $\sin$。问题化为：

（令 $\alpha = \frac \pi 7$）

$$\sin^4 \alpha + \sin^4 2 \alpha + \sin^4 3 \alpha$$

然后 $\sin x = \frac {e^{ix} - e^{-ix}} 2$ 就能把所有东西全弄得干干净净。

\* Solution 6 牛逼：用尺量出 $a,b,c$ 的长度，发现只有 C 选项差不多。

# T2

> <img src="https://latex.artofproblemsolving.com/c/c/f/ccfd1265c72b286aa453b9ee0080021d484e6d25.png" width=200/>
>
> 已知中间是单位正方形，周围是正六边形，求黑框的面积。

建系。

以正方形左下角为原点。过 $A(\sqrt 3, 1)$，$B(\frac {\sqrt 3} 2, \frac 3 2)$ 两点的直线是 $y = - \frac {\sqrt 3} 3 x + 2$。其反函数是 $y = -\sqrt 3 x + 2 \sqrt 3$。交点是 $C(3 - \sqrt 3, 3 - \sqrt 3)$。

五个长方形 $1 + 4 \times (1 \times (\sqrt 3 - 1))$ 加上四个角上 $4 \times ((\sqrt 3 - 1) \times (2 - \sqrt 3))$。最终答案 $\boxed{16 \sqrt 3 - 23}$。

# T3

> 有一个无穷长 01 数组 $x$，你不知道它的值。
>
> 有一个数列 $S_0 = x_0$，$S_n = S_{n-1} + x_n 2^n$。
>
> 已知 $\forall n \ge 1$ 有 $7 S_n \equiv 1 \pmod {2^n}$。
>
> 求
>
> $$x_{2019} + 2x_{2020} + 4x_{2021} + 8x_{2022}$$

看一下要求的东西，是 $\frac 1 {2^{2019}} (S_{2022} - S_{2018})$。

对于 $n \ge 1$ 有 $S_n \equiv \frac 1 7 \pmod {2^n}$，即 $S_{n-1} \equiv \frac 1 7 \pmod {2^n}$。

感觉条件很特别，说不定 $S_n$ 可以求通项。注意到 $S_{n-1} < 2^n$，因此 $S_{n-1} = \text{inv}(7, 2^n)$。

根据熟悉的[小引理](https://www.luogu.com/article/3amp2370)

$$\text{inv}(a,b) = b -  \frac {b \times \text{inv}(b,a) - 1} a$$

可得

$$S_{n-1} = \text{inv}(7, 2^n) = 2^n - \frac {2^n (4^n \bmod 7) - 1} 7$$

换下下标

$$S_n = 2^{n+1} - \frac {2^{n+1} (4^{n+1} \bmod 7) - 1} 7$$

答案即为

$$\begin{aligned}
    & \frac 1 {2^{2019}} \left(2^{2023} - \frac {2^{2023} (4^{2023} \bmod 7) - 1} 7 - 2^{2019} + \frac {2^{2019} (4^{2019} \bmod 7) - 1} 7 \right) \\
    =& 16 - \frac {16 (4^{2023} \bmod 7) - 1} 7 - 1 + \frac {(4^{2019} \bmod 7) - 1} 7 \\
    =& 16 - \frac {16 \times 4 - 1} 7 - 1 + \frac {1 - 1} 7 \\
    =& \boxed{6} \\
\end{aligned}$$

注：$4^{2019} \bmod 7$ 可以欧拉降幂计算：$4^{2019 \bmod \varphi(7)} \bmod 7 = 4^{2019 \bmod 6} \bmod 7 = 1$。

## 引理证明

> $\forall a, b > 1$ 且 $a \perp b$：
>
> $$\text{inv}(a,b) = b -  \frac {b \times \text{inv}(b,a) - 1} a$$
>
> 其中 $\text{inv}(a,b)$ 指的是值域在 $[1,b)$ 中的 $a$ 的唯一模 $b$ 意义下乘法逆元。

$b \times \text{inv}(b,a) \equiv 1 \pmod a$，因此存在整数 $t$ 使得 $t = \frac {b \times \text{inv}(b,a) - 1} a$。

看看怎么通过 $t$ 构造 $\text{inv}(a, b)$，我们尝试看看 $(a \times t) \bmod b$ 的值，发现是 $-1$。因此 $-t$ 是一个逆元。接下来研究 $t$ 的值域。

$t$ 最小是 $\frac {b-1} a \ge 1$；$t$ 最大是 $\frac {b (a-1) - 1} a = b - \frac {b-1} a \le b-1$。即 $t \in [1,b)$。

$-t \in (-b,-1]$，$b-t \in (0,b-1] = [1,b)$。不难发现，$b-t$ 就是 $\text{inv}(a,b)$ 的值，证毕。