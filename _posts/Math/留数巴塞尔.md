$$\sum_{n=-\infty}^\infty \frac 1 {n^2 + a^2}$$

$$\text{Res}_{z = n} \pi \cot(\pi z) = 1$$

$$\text{Res}_{z = n} \frac {\pi \cot(\pi z)} {z^2 + a^2} = \frac 1 {n^2 + a^2}$$

$$f(z) = \frac {\pi \cot(\pi z)} {z^2 + a^2}$$

$$\begin{aligned}
    & \sum_{n=-\infty}^\infty \frac 1 {n^2 + a^2} \\
    =& \sum_{n=-\infty}^\infty \text{Res}_{z = n} f(z) \\
    =& \lim_{N \to \infty} \frac 1 {2 \pi i} \oint_{C_N} f(z) dz - \left( \text{Res}_{z = ia} f(z) + \text{Res}_{z = -ia} f(z) \right) \\
\end{aligned}$$

这个积分会趋于 $0$，但是说明比较复杂，总之就是分子 $\cot(\pi z)$ 有界而分母在涨。

两个留数好算，都是

$$- \frac \pi {2a} \coth(\pi a)$$

得到：

$$\boxed{
    \sum_{n=-\infty}^\infty \frac 1 {n^2 + a^2} = \frac \pi a \coth(\pi a)
}$$

如果只留正的 $n$：

$$\boxed{
    \sum_{n=1}^\infty \frac 1 {n^2 + a^2} = \frac \pi {2a} \coth(\pi a) - \frac 1 {2a^2}
}$$

对于 $a = 0$ 即为巴塞尔问题，考虑求极限。

$$\coth z = \frac 1 z + \frac z 3 + O(z^3)$$

$$\pi a \coth(\pi a) - 1 \sim \frac {\pi^3} 3 a^2$$


$$\boxed{
    \sum_{n=1}^\infty \frac 1 {n^2} = \frac {\pi^2} 6
}$$

