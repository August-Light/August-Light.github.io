---
title: 'AMC 最终复习'
date: 2025-10-15
permalink: /posts/2025/10/2025-10-15-AMC-最终复习/
excerpt: "最后一年 AMC，回顾一下往年卷子的难题。"
tags:
  - Math
---

# 2024 AMC 12B

整体难度较低的卷子。

## Problem 18 (Easy)

知识点：Fibonacci 数列、Lucas 数列

> 求
>
> $$\sum\limits_{i=1}^{10} \frac {F_{2n}} {F_n}$$
>
> 其中 $F$ 是 Fibonacci 数列 [A000045](https://oeis.org/A000045)。

直接做找规律其实就做完了，非常简单。但是背后的结论可以记一下。

我们有 Lucas 数列 [A000032](https://oeis.org/A000032)：

$$L_n = \begin{cases}
    2 & n = 0 \\
    1 & n = 1 \\
    L_{n-1} + L_{n-2} & \text{otherwise} \\
\end{cases}$$

前若干项：`2, 1, 3, 4, 7, 11, 18, 29, 47, 76, 123, 199, 322`

$$L_n = \left( \frac {1 + \sqrt 5} 2 \right)^n + \left( \frac {1 - \sqrt 5} 2 \right)^n$$

$$\sum L_n \delta n = L_{n+1} + C$$

有结论：

$$L_n = \frac {F_{2n}} {F_n} \quad (n > 0)$$

$$\begin{aligned}
    & \sum\limits_{i=1}^{10} L_i \\
    =& \sum_1^{11} L_n \delta n \\
    =& L_{12} - L_2 \\
    =& 322 - 3 \\
    =& \boxed{319} \\
\end{aligned}$$

## Problem 19 (Normal)

知识点：普通三角函数

> （转化后题意）
>
> $0 < \theta < 60 \degree$，$\sin \theta + \sin(\frac 2 3 \pi - \theta) = \frac {13} {14} \sqrt 3$，求 $\tan \theta$。

拆掉 $\sin(\frac 2 3 \pi - \theta)$：

$$\begin{aligned}
    & \sin \theta + \sin(\frac 2 3 \pi - \theta) & \\
    =& \frac 2 3 \sin \theta + \frac {\sqrt 3} 2 \cos \theta &= \frac {13} {14} \sqrt 3 \\
\end{aligned}$$

$$\frac 2 3 \tan \theta + \frac {\sqrt 3} 2 = \frac {13} {14} \sqrt 3 \sec \theta$$

再结合 $\tan^2 \theta + 1 = \sec^2 \theta$，代入每个选项（乐）验算即可得到 $\tan \theta = \boxed{\frac 5 {11} \sqrt 3}$。

认真的做法是转辅助角然后硬做，但是不如直接代选项来的快。

## Problem 24 (Normal)

知识点：放缩

> （转化后题意）
>
> 整数 $1 \le a \le b \le c \le 9$，$\frac 1 b + \frac 1 c > \frac 1 a$。$r$ 是正整数。
>
> 求以下方程的解数：
>
> $$\frac 1 a + \frac 1 b + \frac 1 c = \frac 1 r$$

题目条件带不等号，直接放缩。

$$\frac 1 r = \frac 1 a + \frac 1 b + \frac 1 c \ge \frac 3 c \ge \frac 3 9 = \frac 1 3$$

因此 $r \le 3$。分讨，答案为 $\boxed{3}$。

如果不放缩直接讨论 $a$ 也可以接受，但是花的时间多很多。

## Problem 25

> 抽象分讨题

TODO:

# 2023 AMC 12A

小清新卷子，题目总体来说比较优雅。

## Problem 16 (Normal)

知识点：复数模长

> 复数 $z$ 满足 $\lvert z^2 + z + 1 \rvert = 4$，求 $\max \Im z$。
>
> 答案可以被表示为 $\frac {\sqrt m} n$，输出 $m + n$。

令 $z = a + bi$。

首先分解因式，拆开模长

$$\lvert z - \omega_3^1 \rvert \lvert z - \omega_3^2 \rvert = 4$$

$$\lvert (a + \frac 1 2) + (b + \frac {\sqrt 3} 2) i \rvert \lvert (a + \frac 1 2) + (b - \frac {\sqrt 3} 2) i \rvert = 4$$

根据模长的意义 $\lvert a + bi \rvert = a^2 + b^2$，为了虚部取到最大值，我们希望实部越小越好，取 $a = - \frac 1 2$。

$$\lvert b + \frac {\sqrt 3} 2 \rvert \lvert b - \frac {\sqrt 3} 2 \rvert = 4$$

$$\lvert b^2 - \frac 3 4 \rvert = 4$$

$$b = \pm \frac {\sqrt {19}} 2$$

答案为 $\boxed{\frac {\sqrt {19}} 2}$。

## Problem 20 (Easy)

知识点：数列

> 构造一个类似杨辉三角的结构：两边还是 $1$，中间每个数是上方两个数之和 $+1$。求第 $2023$ 行数之和（最顶上单独一个 $1$ 是第一行）。
>
> 输出答案的个位。

设第 $n$ 行答案为 $f_n$，DP 方程：（边界 $f_1 = 1$）

$$f_n = 2 f_{n-1} + n - 2$$

GF 固然可以搞，但是差分方程更有趣。非齐次部分是 $n-2$，待定系数可以解出特解 $f_n = -n$；齐次部分的解是 $f_n = C 2^n$。

$$f_n = C 2^n - n$$

结合边界条件解得

$$f_n = 2^n - n$$

答案为 $2^{2023} - 2023$，个位为 $\boxed{5}$。

## Problem 22 (Normal)

知识点：Dirichlet 卷积

> 对于任意正整数 $n$，有
>
> $$\sum_{d \mid n} d \times f\left( \frac n d \right) = 1$$
>
> 求 $f(2023)$。

Dirichlet 卷积，考虑 $f$ 的 Bell 级数 $F(x)$：

$$\frac 1 {1 - px} F(x) = \frac 1 {1-x}$$

$$F(x) = \frac {1-px} {1-x} = 1 + \sum\limits_{i=1}^\infty (1-p) x^i$$

$$f(n) = \prod_{p \mid n} (1 - p)$$

$$f(2023) = f(7) \times f(17^2) = (1-7) (1-17) = \boxed{96}$$

## Problem 23 (Normal)

知识点：AM-GM。

> 求方程的解数（$a,b$ 是**正数**）：
>
> $$(1 + 2a) (2 + 2b) (2a + b) = 32 ab$$

换元并重新整理可得

$$(1 + x) (1 + y) (x + y) = 8xy$$

正常的这种方程都是无数解，但是这个方程要求解数，那肯定是有奇怪的限制把它卡死了。

形式如此对称，又有正数的限制，应该是个 AM-GM 的做法。

解 1：$(1 + x) (1 + y) (x + y) \ge 2 \sqrt x \times 2 \sqrt y \times 2 \sqrt{xy} = 8xy$，在 $x=y=1$ 取到等号。

解 2：$(\sqrt x + \frac 1 {\sqrt x}) (\sqrt y + \frac 1 {\sqrt y}) (\sqrt {\frac x y} + \sqrt {\frac y x}) \ge 2 \times 2 \times 2 = 8$，在 $x=y=1$ 取到等号。

答案为 $\boxed{1}$。

## Problem 25

知识点：三角函数

> 略。

题目非常简单，从 $\tan x$ 开始一直和 $\tan 2x$ 组合，发现系数在 $1$ 与 $-1$ 之间 alternate 即可。但是记一下更广的结论。

对于奇数 $n$，有：

$$\tan nx = \frac {\binom n 1 \tan x - \binom n 3 \tan^3 x + \cdots \pm \binom n n \tan^n x} {1 - \binom n 2 \tan^2 x + \cdots \pm \binom n {n-1} \tan^{n-1} x}$$

证明可以通过 $\tan nx = \frac {\sin nx} {\cos nx} = \frac {\Im e^{inx}} {\Re e^{inx}}$，而 $\Re z = \frac {z + \bar z} 2$，$\Im z = \frac {z - \bar z} {2i}$，二项式展开棣莫弗公式。

# 2023 AMC 12B

整体难度非常高的卷子。下面的几道都是比较难的题目，而且 Problem 25 是一道大计算几何题。

## Problem 16 (Hard)

知识点：小凯的疑惑、构造

> 求使得方程 $6x + 10y + 15z = k$ 无自然数解的最大整数 $k$。
>
> 输出其每一位之和。

首先注意到这个题目很像 [P3951 [NOIP 2017 提高组] 小凯的疑惑](https://www.luogu.com.cn/problem/P3951)。那个题的结论是：

> 对于互质正整数 $a,b$，使得 $ax + by = k$ 无自然数解的最大整数 $k$ 存在，为 $ab - a - b$。

我们考虑用两遍这个结论。经过尝试，我们发现一种简单的做法。

首先挑出 $10y + 15z = 5 (2y + 3z)$ 这一部分。根据小凯的疑惑，$2y + 3z$ 可以组合出 $\ne 1$ 的任意数。即 $10y + 15z$ 可以组合出除了 $5$ 以外的任意 $5$ 的倍数，记为 $5t$。

原式变为 $6x + 5t = k$ 且 $t \ne 1$。再用一次小凯的疑惑，$6x + 5t$ 可以组合出任意大于 $19$ 的数，除非对应的方案正好 $t=1$。

什么样的数 $k$ 会使得 $t=1$？一个必要条件是 $k \bmod 6 = 5$。设 $k = 6p + 5$，则可以构造 $k = 6(p-5) + 10 + 10 + 15$ 这样的方案，前提是 $p \ge 5$。

接下来验证 $p < 5$ 的情况，我们发现 $6 \times 4 + 5 = 29$ 无法拼出。

因此答案为 $29$，输出 $\boxed{11}$。

2025.10.27 Update：发现一个同余最短路的做法，优雅很多且不需要注意力或分类讨论。

## Problem 19 (Hard)

Solution 1 知识点：Markov 链

Solution 2 知识点：期望、单位根反演

> $2023$ 个球被独立均匀随机放入 $3$ 个篮子，求每个篮子都有奇数个球的概率（近似值）。
>
> $\frac 2 3$、$\frac 3 {10}$、$\frac 1 2$、$\frac 1 3$、$\frac 1 4$ 中选择一个最接近的。

### Solution 1：Markov 链

我们有理由认为这个题求不出精确解（呃事实上可以），因此考虑一些乱搞做法。

首先注意到 $2023$ 个球这个条件其实没必要搞这么复杂，我们可以看成在 Markov 链上走 $2023$ 步。定义四个状态分别表示当前有 $0,1,2,3$ 个篮子是奇数，则有转移矩阵：

$$\begin{bmatrix}
    & \frac 1 3 \\
    1 & & \frac 2 3 \\
    & \frac 2 3 & & 1 \\
    & & \frac 1 3 \\
\end{bmatrix}^{2023}
\begin{bmatrix}
    1 \\ 0 \\ 0 \\ 0
\end{bmatrix}$$

最终向量的第四分量就是精确的答案。但是显然考场上做相似对角化是不现实的。

所以我们注意到 $2023$ 很大，答案应该接近 Markov 链的平衡状态，即矩阵的（分量和为 $1$ 的）特征向量。

如果能注意到 $1,4$ 位置对称，$2,3$ 位置对称，则解得就更快了。

但是有一个问题，直接做你会发现做出来 $\frac 1 8$，离谱。因为我们事实上没有考虑到，$2023$ 步之后只会落在 $1,3$ 两个状态中，$2,4$ 是不可能的。事实上这也就导致这个 Markov 链是震荡的。一种做法是把转移矩阵平方再做，还有一种就是刚才 $2,4$ 平摊走了一半概率，现在加回来就是 $\boxed{\frac 1 4}$。

如果真的做了矩阵对角化，那么你会解出精确解

$$\frac 1 4 (1 - \frac 1 {3^{2022}})$$

### Solution 2：单位根反演

问题可以写成：已知自然数 $x+y+z=2023$，求

$$P(2 \nmid x \land 2 \nmid y \land 2 \nmid z)$$

$x,y,z$ 耦合，直接求概率不好求，考虑转化成期望，用期望的线性性拆开（**耦合变量求概率问题，转化为期望**）。令

$$X = [2 \nmid x] [2 \nmid y] [2 \nmid z]$$

则 $\mathbb E[X]$ 就是原来的答案。

单位根反演：$[2 \mid x] = \frac {1 + (-1)^x} 2$。后面二项式慢慢拆就做完了，而且是精确答案。

## Problem 22 (Normal)

Solution 1 知识点：注意力。

Solution 2 知识点：三角函数、双曲函数。

> 一个接受实变量的实函数 $f$ 满足：对于任意实数 $a,b$，有
>
> $$f(a+b) + f(a-b) = 2 f(a) f(b)$$
>
> 问：$f(1)$ 不可能是以下五个中的哪个——$0,1,-1,2,-2$？
>
> \* 加强：$f(1)$ 可能的值有哪些？给出具体函数构造。

注意力题，提供两个毫不相干的做法。

基础想法是：
- Sol 1 通过不等式求出答案的值域，排除掉不在值域中的。
- Sol 2 直接构造出 $4$ 个答案对应的 $f$，剩下的就是不可能的。

### Solution 1（严谨证明）

代 $a=b$ 得

$$f(2a) + f(0) = 2 f(a)^2$$

动机出现，**出现平方，构造不等式** $f(a)^2 \ge 0$。

代 $a=b=0$ 得

$$f(0) \in \{0,1\}$$

发动刚才的不等式：

$$f(2a) = 2 f(a)^2 - f(0) \ge 0-1$$

排除 $-2$。

关于为什么前 $4$ 个可行，见 Solution 2 的构造。

### Solution 2（构造 $4$ 个答案）

注意到 $\cos$ 的积化和差公式和原方程一模一样：

$$\cos(a+b) + \cos(a-b) = 2 \cos a \cos b$$

因此 $\cos$ 是 $f$ 的一个解，进一步可知 $f(x) = \cos(\omega x)$ 是一族解。调整 $\omega$ 可以构造出 $[-1,1]$ 之间的任意答案。

再注意到 $\cosh$ 的积化和差公式和原方程一模一样（也可以理解为 $\omega$ 取到虚数）：

$$\cosh(a+b) + \cosh(a-b) = 2 \cosh a \cosh b$$

同理 $\cosh(\omega x)$ 也是一族解。通过调整 $\omega$ 可以构造出 $[1,\infty)$ 的任意答案。具体来说，取 $\omega = \ln(2 + \sqrt 3)$ 可以取到 $f(1) = 2$。

因此我们构造出了 $[-1,\infty)$ 的任意答案。由 Solution 1 的论证可知 $f(1) \ge -1$，因此我们甚至给出了任意合法答案的构造。

## Problem 23 (Hard)

知识点：插值。

> 有 $n$ 个数 $x_i \in \{1,2,3,4,5,6\}$。已知 $\prod\limits_{i=1}^n x_i$ 有 $936$ 种可能，求 $n$。

首先从质因数的角度考虑，我们有 $2,3,5$ 三个质因数。

$3$ 个质因数不好分析，我们手画 $2$ 个质因数的情况（即 $x_i \in \{1,2,3,4,6\}$ 没有 $5$），可以发现方案数 $f(n)$ 的差分 $\Delta f(n)$ 是等差数列，即关于 $n$ 的一次函数——即 $f(n)$ 是关于 $n$ 的二次函数。

我们大胆猜测 $3$ 个质因数下 $f(n)$ 是关于 $n$ 的三次函数！插值解一下（$f(n) = \frac 1 2 n^3 + 2 n^2 + \frac 5 2 n + 1$）或者直接一路差分推上去，$f(11) = 936$，居然真的凑出来了。答案 $\boxed{11}$。

其实仔细想一下会发现这里根本不用猜。把刚才那个二次函数再求一次前缀和其实就是现在的三次函数。

二次函数不证了，我懒。

## Problem 24 (Normal)

> $a,b,c,d$ 是正整数。已知 $abcd$ 的值和 $a,b,c,d$ 两两 $\text{lcm}$ 的值（质因数全都只含有 $2,3,5$），求 $\gcd(a,b,c,d)$。
>
> 题目是给了具体值的，但是这里写不下了。

题目要求我们做一个 $\gcd$-$\text{lcm}$ 容斥。

对每个质因子单独考虑。

问题变为已知 $w+x+y+z$ 的值和 $w,x,y,z$ 两两 $\max$ 的值，求 $\min(w,x,y,z)$。显然是 $\min$-$\max$ 容斥。

$$\min_{i \in S} x_i = \sum_{T \subseteq S} (-1)^{\lvert T \rvert - 1}\max_{j \in T} x_j$$

这个结论的证明非常优雅：考虑一个双射 $x ↦ \{1,\cdots,x\}$，那么 $\min$ 就是 $\cap$，$\max$ 就是 $\cup$。变回了普通的容斥原理。

## Problem 25

TODO:

# 2022 AMC 12A

## Problem 16 (Normal)

知识点：Pell 方程

其实不难，但是不知道 Pell 方程则无法下手。

> 定义 $t_n = \frac {n (n+1)} 2$。求所有为完全平方数的 $t_n$ 中第四小的项。
>
> 提示：前三个是 $t_1 = 1^2, t_8 = 6^2, t_{49} = 35^2$。
>
> 输出答案的数位之和。

$$\frac {n (n+1)} 2 = k^2$$

配方为 Pell 方程：

$$(2n + 1)^2 - 2 (2k)^2 = 1$$

令 $u = 2n+1, v = 2k$。

$$u^2 - 2 v^2 = 1$$

Pell 方程的结论：令 $u^2 - Dv^2 = 1$ 的最小正整数解为 $(u^*, v^*)$，则任意正整数解 $(u,v)$ 可以被表示为：

$$u + \sqrt D v = (u^* + \sqrt D v^*)^m$$

根据题目给的 $t_1 = 1$ 我们可以得到 $(u^*, v^*) = (3, 2)$。计算第四个解：

$$(3 + 2 \sqrt 2)^4 = 577 + 408 \sqrt 2$$

因此 $u = 577$ 即 $n = 288$，$t_n = 41616$。输出 $\boxed{18}$。

# 2022 AMC 12B

TODO: